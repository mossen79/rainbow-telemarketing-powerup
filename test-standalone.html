<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rainbow Telemarketing Scripts - TEST</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="script-container">
        <div id="script-header">
            <h2 id="script-title">üìû Skrypt Rozmowy - TEST</h2>
            <select id="campaign-selector" style="display:none;">
                <option value="rainbow-odkurzacz">Odkurzacz Rainbow</option>
            </select>
        </div>

        <div id="script-content">
            <div id="script-text-box">
                <div class="label">POWIEDZ:</div>
                <div id="script-text" class="speech-box"></div>
            </div>

            <div id="responses-section">
                <div class="label">KLIENT ODPOWIEDZIA≈Å:</div>
                <div id="response-buttons"></div>
            </div>
        </div>

        <div id="script-footer">
            <button id="back-btn" class="secondary-btn" style="display:none;">‚Üê Cofnij</button>
            <button id="close-btn" class="secondary-btn">‚úï Zamknij</button>
        </div>

        <div id="history-panel" style="display:none;">
            <div class="label">Historia rozmowy:</div>
            <div id="history-list"></div>
        </div>
    </div>

    <script>
        // Mock TrelloPowerUp for standalone testing
        window.TrelloPowerUp = {
            iframe: function() {
                return {
                    close: function() {
                        alert('W prawdziwym Power-Up zamknƒô≈Çoby okno Trello');
                        console.log('Mock: Close iframe');
                    }
                };
            }
        };
    </script>
    <script src="script-engine.js"></script>
    <script>
        // Override close button behavior for testing
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('close-btn').addEventListener('click', function(e) {
                e.stopPropagation();
                if (confirm('Czy chcesz zamknƒÖƒá okno testowe?')) {
                    window.close();
                }
            }, true);
        });
    </script>
</body>
</html>
